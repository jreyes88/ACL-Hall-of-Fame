const hofInductees = {
  inductees: [
    {
      name: "B.B. King",
      shortCode: "BBKing",
      inductionYear: 2016,
      bio: 'The foremost ambassador the blues has ever had, the late, great B.B. King brought the genre to new artistic and popular heights with his powerful voice, incomparable axework and classic songs. With his guitar “Lucille” strapped to his chest, the undisputed King of the Blues made two legendary appearances on <i>Austin City Limits</i> in 1983 and 1996. \nKing’s debut episode was recorded in 1982 and originally broadcast in 1983 as part of Season 8. The 11-song set spans the length and breadth of his career to that point, from his then-new album <i>Love Me Tender</i> (including “Since I Met You, Baby” and the title track, a cover of the Elvis Presley classic) to his own standards “Everyday I Have the Blues” and “The Thrill is Gone.” In a powerhouse performance, King hits full-force with a voice that is neither harsh nor sweet, that bends, like his fingers, with each note. “There was electricity in Studio 6A that night like no other,” says <i>ACL</i> executive producer Terry Lickona. “It was pure B.B. - just him, Lucille, and one of the best road bands he ever toured with. He mixed up hardcore blues with Elvis ballads, and had the audience in the palm of his hand, following his every lead. It was historic!”',
      youtube: "OX41ftT4jJo",
      alphaSortName: "King",
      index: 0
    },
    {
      name: "Kris Kristofferson",
      shortCode: "KrisKristofferson",
      inductionYear: 2016,
      bio: "Rhodes scholar, Golden Gloves boxer, college football player, film actor, acclaimed songwriter, social activist — few artists can boast the kind of freewheeling career enjoyed by songwriting legend Kris Kristofferson. \nThe Brownsville, Texas native gave up a promising military career in favor of life as a self-described “songwriting bum,” arriving on the music scene in the 1960s. He expanded the language of country music songwriting with emotional truth and revealing honesty, penning enduring classics (“Me and Bobby McGee,” “Sunday Morning Coming Down,” “Help Me Make It Through the Night,” “For the Good Times”) that continue to resonate with audiences worldwide. His incredible body of work includes his many film and television roles, (<i>Pat Garrett and Billy the Kid</i>, <i>A Star is Born</i>, <i>Lone Star</i>). \nAn American original, he is a lifelong activist who continues to speak out on social justice and human rights issues. Kristofferson first appeared on <i>Austin City Limits</i> in 1982, returning in 1997 and 2010 and for the series' 40th anniversary special in 2014.",
      youtube: "3tb0XyJJ5oA",
      alphaSortName: "Kristofferson",
      index: 1
    },
    {
      name: "Bonnie Raitt",
      shortCode: "BonnieRaitt",
      inductionYear: 2016,
      bio: 'More than just a best-selling artist, respected guitarist, expressive singer, and accomplished songwriter, Bonnie Raitt has carved out an enviable forty-five year strong career. The ten-time Grammy winner was inducted into the Rock & Roll Hall of Fame in 2000 and <i>Rolling Stone</i> named the slide guitar ace one of the “100 Greatest Guitarists of All Time” and one of the ”100 Greatest Singers of All Time”. \nHer landmark albums <i>Nick of Time</i> and <i>Luck of the Draw</i> have secured her place as an American music treasure. Raitt’s widely-acclaimed 2012 release <i>Slipstream</i> sold over a quarter-million copies, making it one of the top selling independent albums, and earned Raitt her 10th Grammy Award (Best Americana Album). A tireless performer with decades of non-stop touring under her belt, in 2012 she received a Lifetime Achievement Award for Performance from the Americana Music Association. \nIn February 2016, Raitt released her highly-anticipated 20th album, <i>Dig In Deep</i>. When not burning up highways on tour with her band, the devoted activist has championed and spoken out on behalf of many social causes. Raitt has played an invaluable role in <i>Austin City Limits\'</i> history, with standout performances on the series in 1984, 2002, and 2012, and returning for the 40th anniversary special in 2014.',
      youtube: "aFv8YGjT3nM",
      alphaSortName: "Raitt",
      index: 2
    },
    {
      name: "Dick Peterson",
      shortCode: "DickPeterson",
      inductionYear: 2016,
      bio: 'Dick Peterson served as executive producer of <i>Austin City Limits</i> from 2000-2008, but his involvement with the show began much earlier. As director of production for KLRU-TV, he set professional standards that helped <i>Austin City Limits</i> become the award-winning program it is today. An Austin native, Dick began working at KLRU (then KLRN) in the mid-’60s. After a stint in the Air Force, he returned to public television, working in Pittsburgh, Houston, and Phoenix before landing in Hollywood. \nDick worked on <i>The Bob Newhart Show</i>, <i>Maude</i>, and <i>Maggie Briggs</i>—star Suzanne Pleshette called him her favorite editor. Dick returned to KLRU in 1984 as director of production and became, following the retirement of <i>ACL</i> co-creator Bill Arhos, <i>ACL’s</i> executive producer in 2000, a role he held until his own retirement ten years later. “Some of my best years have been spent at KLRU with a great group of experienced, creative, dedicated friends that are the best in the country,” he said after a near-50 year career in television. “I am one lucky dude.”',
      youtube: "k2JmCoN5hBI",
      alphaSortName: "Peterson",
      index: 3
    },
    {
      name: "Asleep at the Wheel",
      shortCode: "AsleepAtTheWheel",
      inductionYear: 2015,
      bio: 'A national as well as Texas institution, the Grammy-winning Austin band Asleep at the Wheel has kept the Western swing flame burning with “Boogie Back toTexas,” “Choo Choo Ch’boogie” and “The Letter That Johnny Walker Read.” Still led by Ray Benson, the band taped the first regular episode (following the pilot) of <i>Austin City Limits</i> in 1975, going on to appear eleven times, including an episode in our upcoming 41st season. \nThe group’s latest album is <i>Still the King: Celebrating the Music of Bob Wills and His Texas Playboys</i>.',
      youtube: "6BIxGdxztDc",
      alphaSortName: "Asleep at the Wheel",
      index: 4
    },
    {
      name: "Loretta Lynn", 
      shortCode: "LorettaLynn",
      inductionYear: 2015,
      bio: 'With over 70 chart hits, including “You Ain’t Woman Enough,” “Don’t Come Home a Drinkin’,” “She’s Got You” and the immortal “Coal Miner’s Daughter,” Loretta Lynn is a living legend of country music. The Kentucky-born singer and songwriter is also a Presidential Medal of Freedom winner and performer on two classic episodes of <i>Austin City Limits</i>. \nHer latest album is 2004’s Jack White-produced <i>Van Lear Rose</i>.',
      youtube: "RNkKubLEiKo",
      alphaSortName: "Lynn",
      index: 5
    },
    {
      name: "Guy Clark",
      shortCode: "GuyClark",
      inductionYear: 2015,
      bio: 'Texas native and songwriter’s songwriter Guy Clark owns a huge catalog of standards, including “L.A. Freeway,” “Desperados Waiting For a Train,” “Heartbroke,” “The Randall Knife” and “Dublin Blues.” His songs have been recorded by Johnny Cash, Vince Gill, Rodney Crowell, Emmylou Harris, Jimmy Buffett, Steve Wariner and many more. He’s also made seven appearances on <i>Austin City Limits</i>. \nHis latest album is the Grammy-winning <i>My Favorite Picture of You</i>.',
      youtube: "fx21WqahQro",
      alphaSortName: "Clark",
      index: 6
    },
    {
      name: "Townes Van Zandt",
      shortCode: "TownesVanZandt",
      inductionYear: 2015,
      bio: 'Fort Worth native Townes Van Zandt is a songwriting legend who set the standard for legions of Texas troubadours with songs like “Pancho & Lefty,” “If I Needed You,” “To Live is to Fly” and “Tecumseh Valley.” His songs have been recorded by Willie Nelson, Merle Haggard, Emmylou Harris, Guy Clark, Robert Plant and more, and continue to be an inspiration to modern-day singer/songwriters like Laura Marling. \nVan Zandt made two memorable appearances on <i>Austin City Limits</i>, including in the first season in 1975.',
      youtube: "pq8wQj0F20Y",
      alphaSortName: "Van Zandt",
      index: 7
    },
    {
      name: "Flaco Jiménez",
      shortCode: "FlacoJimenez",
      inductionYear: 2015,
      bio: 'Legendary Tex-Mex Tejano accordionist Flaco Jiménez has been performing for over six decades and is the recipient of a 2015 Lifetime Achievement Grammy Award. The son of conjunto pioneer Santiago Jiménez, the San Antonio native has made eight appearances on <i>Austin City Limits</i>, including guest spots with Dwight Yoakam and Los Lobos. \nHis most recent album is 2014’s <i>Flaco & Max: Legends & Legacies</i> with Los Texmaniacs leader Max Bava.',
      youtube: "A6bm2GQ4CBc",
      alphaSortName: "Jimenez",
      index: 8
    },
    {
      name: "ACL Crew - Season 1",
      shortCode: "ACLSeason1",
      inductionYear: 2015,
      bio: 'Camera operators, grips, sound engineers, floor managers, makeup, lighting and technical directors - the men and woman that comprised the first crew of <i>Austin City Limits</i> are the unsung heroes of the show. The crew all worked on various other productions for KLRU and didn\'t realize at the time they were making history. In fact, no photos exist of the crew themselves - the best the <i>Austin City Limits</i> archives can offer is images of the empty set. This production crew revolutionized the way music was presented on TV, demanding the high standards for music and performance that Austin audiences had come to expect. We recognize them for their contributions to the show and for the foundation they created.',
      youtube: "b4sqXzO73Ng",
      alphaSortName: "ACL Crew - Season 1",
      index: 9
    },
    {
      name: "Willie Nelson",
      shortCode: "WillieNelson",
      inductionYear: 2014,
      bio: 'It’s hard to imagine now, but there was a time when Willie Nelson was not an American icon. \nIn the early ‘70s, Nelson was best-known for writing hits for other people. The Abbott, Texas native had a successful career as a Nashville songwriter (“Crazy,” “Hello Walls,” “Night Life,” etc.) but had not yet achieved recognition under his own name. In 1974 all that would change. With the release of 1973’s <i>Shotgun Willie</i> and 1974’s <i>Phases and Stages</i>, two imaginative and successful LPs, the stage was set for his career to take off. \nThen on October 17, 1974, Willie and his Family band entered Studio 6A to record the pilot for <i>Austin City Limits</i>. Broadcast as part of the national pledge drive in March 1975, the show was one of the top programs on PBS that year, securing a future for <i>ACL</i> as a series. \nWillie has appeared on the show 16 times, with six headlining slots (most recently in 2009), seven songwriters specials and three guest appearances with Johnny Rodriguez, Roger Miller and Asleep at the Wheel. Not only is he the artist who launched <i>Austin City Limits</i>, he’s also one of our most frequent - and favorite - guests.',
      youtube: "vZo7RvXAxGs",
      alphaSortName: "Nelson",
      index: 10
    },
    {
      name: "Stevie Ray Vaughan & Double Trouble",
      shortCode: "SRVDoubleTrouble",
      inductionYear: 2014,
      bio: 'When Stevie Ray Vaughan & Double Trouble first appeared on <i>Austin City Limits</i> in 1983, they were just hitting the national spotlight. \nAfter years working the Texas blues circuit, Stevie, bassist Tommy Shannon and drummer Chris Layton scored a slot at the Montreux Jazz Festival in 1982. While their appearance in Montreux wasn’t as well received as they would have liked, it did raise their profile among fellow musicians. Shortly after Jackson Browne donated his studio to SRV and Double Trouble to record their debut album. And while recording that album, David Bowie invited Stevie to play on his album <i>Let’s Dance</i>. \nThe band made its <i>ACL</i> debut with the release of <i>Texas Flood</i>, showcasing Stevie’s fiery guitar playing. They returned to ACL in 1989, on the heels of In Step, the strongest record of their career. The stunning performance by Double Trouble, which at this point included keyboardist Reese Wynans, and Stevie further enshrined their work in <i>ACL’s</i> hallowed history. \nFollowing Stevie’s untimely death, <i>ACL</i> created two special episodes from the band’s performances. The first featured all the songs originally included in their episodes and the second featured outtakes that had never before been televised. These two shows are among the most beloved episodes in our history. In 2001, Double Trouble returned to our stage joined by friends Jimmie Vaughan, Charlie Sexton, Doyle Bramhall II, Eric Johnson and more. \nStevie Ray Vaughan & Double Trouble helped solidify <i>Austin City Limits</i> as the place to discover masterful musicians at their best.',
      youtube: "-3R8ID5OJF8",
      alphaSortName: "Vaughan",
      index: 11
    },
    {
      name: "Darrell Royal",
      shortCode: "DarrellRoyal",
      inductionYear: 2014,
      bio: 'Darrell Royal may be best known as the most successful football coach in University of Texas at Austin history, but he was also instrumental in moving <i>Austin City Limits</i> onto the national stage. \nDuring his 20-year tenure, from 1957-1976, his team won three national championships, eight conference titles and never had a losing season. In the ‘70s, Royal was as well known for his love of country music as he was for his football accomplishments. He was close friends with many country music stars and once described himself as “Austin’s biggest groupie.” It was Royal who persuaded his pal Merle Haggard to appear on <i>Austin City Limits</i>, opening the door for the biggest names in music to be part of the show’s history. Royal also saved the day in Season 6 when George Jones nearly missed his <i>ACL</i> debut due to an attack of stage fright. Royal talked him off his tour bus and onto the stage. \nBut Royal’s most enduring <i>ACL</i> legacy may be the Songwriters Specials. As a friend to Nashville’s greatest writers, Royal regularly hosted “guitar pulls” that featured both veteran and up-and-coming songsmiths trading tunes into the night. In 1980, Royal’s pickin’ parties spilled over onto the <i>ACL</i> stage for the first of many episodes devoted to the art of the song - a tradition that became an <i>ACL</i> trademark. \nRoyal’s legacy with the show lives on with each new Songwriters Special we create.',
      youtube: "bVJrkz9aO2o",
      alphaSortName: "Royal",
      index: 12
    },
    {
      name: "Bill Arhos",
      shortCode: "BillArhos",
      inductionYear: 2014,
      bio: 'If there’s a single person to which the phrase “without whom” could be applied, it’s Bill Arhos. \nA proud graduate of Rice University, Arhos started at the Austin public television station in the early ‘60s. Through the years he served as a cameraman, producer, and program director, completing his career as general manager from 1986 to 2000. It was during his tenure as program director that <i>Austin City Limits</i> was born. In 1974, Arhos noticed the already-busy Austin music scene, and together with producer Paul Bosner and director Bruce Scafe came up with the idea to create a television program to showcase it. More importantly, he successfully pitched the <i>ACL</i> concept to skeptical station management and, once the pilot aired as a solid success during PBS’ 1975 pledge drive, established it as a national series. \nOutside <i>ACL</i>, Arhos executive-produced 15 music-themed PBS pledge specials, as well as co-created the commercial program <i>The Texas Connection</i>, which aired on The Nashville Network for four years. Arhos also served on the PBS Board of Directors from 1989 to 1995 and on the Board of Directors of the Country Music Association from 1992 to 1994. \nArhos served as <i>ACL’s</i> executive producer in the beginning and from 1982 to 1999, holding that position longer than anyone in the show’s history. As executive producer, Arhos kept the show going no matter what difficulties it faced. No matter the challenge, <i>ACL</i> always had Bill Arhos in its corner, and that goes a long way to explain why the show is now the longest running music program in television history.',
      youtube: "GHunNJ9TvSA",
      alphaSortName: "Arhos",
      index: 13
    },
    {
      name: "Lloyd Maines",
      shortCode: "LloydMaines",
      inductionYear: 2014,
      bio: 'Legendary steel guitarist and Grammy Award-winning producer Lloyd Maines has appeared on more episodes of <i>Austin City Limits</i> than any other artist in the show’s four decade run. Known for his deep understanding of music, Maines has brought his taste, sensitivity and skill to every artist with whom he’s worked and every episode of <i>Austin City Limits</i> in which he’s appeared. The gifted multi-instrumentalist has helped shape the direction of Texas music through his work with Joe Ely, Robert Earl Keen, Dixie Chicks, Jerry Jeff Walker, Terry Allen, Charlie Robison, and many more. \nBorn and raised in Lubbock, Maines played his first gig in 1965 at the age of 14. He was also a member of the Maines Brothers Band, along with his siblings, in the late 1970s and early 1980s. Since then he’s become one of the most in-demand musicians and producers in Texas and beyond. Best-known as an integral part of Joe Ely’s band for nearly four decades, Maines has also contributed to seminal alt-country releases from Uncle Tupelo and Wilco. The list of people with whom he’s worked doesn’t stop there: The Flatlanders, Jimmie Dale Gilmore, Terri Hendrix, Wayne Hancock, Pat Green, Ray Wylie Hubbard and Richard Buckner have all benefited from his production or pedal steel expertise. \nLike all the musicians who have backed up our headlining artists, Lloyd Maines has become an essential part of the history of <i>Austin City Limits</i>. With this induction, we honor not only Maines, but all the talented sidemen who have appeared on the show through the decades.',
      youtube: "",
      alphaSortName: "Maines",
      index: 14
    },
  ]
};

const inductees2017 = {
  inductees: [
    {
      name: "Ross Poldark",
      shortCode: "inductee-filler1",
      inductionYear: 2017,
      bio: 'Ross Poldark, is a British Army officer who returns to his home in Cornwall from the American Revolutionary War only to find that his fiancée Elizabeth Chynoweth believed him dead and is about to marry his cousin Francis Poldark. Ross attempts to restore his own fortunes by reopening one of the family\'s derelict tin mines. After several years, he marries Demelza Carne, a poor servant girl, and is gradually reconciled to the loss of Elizabeth\'s love.',
      youtube: "",
      alphaSortName: "Poldark",
      index: 0
    },
    {
      name: "Wild Dog Spycam",
      shortCode: "inductee-filler2",
      inductionYear: 2017,
      bio: 'Puppy kitty ipsum dolor sit good dog warm pet supplies lazy dog meow tigger wet nose barky. Window gimme five vitamins bed pet gate parrot. Licks water lick play cage aquarium vaccination. Walk twine kitten kisses food cockatiel chow play dead sit Fido barky kitten treats parrot. Bird Food toy aquarium pet supplies tongue pet food aquarium pet food right paw tail. Walk pet food toys fluffy barky nap litter pet supplies crate tooth walk pet food water dog birds pet supplies play dead puppy biscuit feathers walk.',
      youtube: "",
      alphaSortName: "Spycam",
      index: 1
    },
    {
      name: "Ken Burns",
      shortCode: "inductee-filler3",
      inductionYear: 2017,
      bio: 'The Ken Burns Effect is principally used when film or video material is not available. Action is given to still photographs by slowly zooming in on subjects of interest and panning from one subject to another. For example, in a photograph of a baseball team, one might slowly pan across the faces of the players and come to a rest on the player the narrator is discussing. By employing simulated parallax, a two-dimensional image can appear as 3D, with the viewpoint seeming to enter the picture and move among the figures.',
      youtube: "",
      alphaSortName: "Burns",
      index: 2
    },
    {
      name: "Big Bird",
      shortCode: "inductee-filler4",
      inductionYear: 2017,
      bio: 'Big Bird was originally designed by a drawing from Jim Henson and built by Kermit Love in 1969. The Big Bird performer is completely enclosed within the costume, and extends his right hand over his head to operate the head and neck of the puppet. The Muppeteer\'s left hand serves as the Bird\'s left wing, while the right wing is stuffed and hangs loosely from a fishing line that runs through a loop under the neck and attaches to the wrist of the left hand.',
      youtube: "",
      alphaSortName: "Burns",
      index: 3
    }
  ]
}

// function to be able to navigate to each character's specific page
function getParameterByName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
    results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

Handlebars.registerHelper('makeItalicized', function (options) {
  return new Handlebars.SafeString(`<i>${options.fn(this)}</i>`);
});

Handlebars.registerHelper('makeLowercase', function (options) {
  return options.fn(this).toLowerCase();
});

Handlebars.registerHelper('formatBioParagraph', function (bio) {
  bio = bio.replace(/(\r\n|\n|\r)/gm, '</p><p>');
  return new Handlebars.SafeString(bio);
});

Handlebars.registerHelper('compare', function(lvalue, rvalue, options) {
  if (arguments.length < 3) {
    throw new Error("Handlerbars Helper 'compare' needs 2 parameters");
  }
  var operator = options.hash.operator || "==";
  var operators = {
    '==':       function(l,r) { return l == r; },
    '===':      function(l,r) { return l === r; },
    '!=':       function(l,r) { return l != r; },
    '<':        function(l,r) { return l < r; },
    '>':        function(l,r) { return l > r; },
    '<=':       function(l,r) { return l <= r; },
    '>=':       function(l,r) { return l >= r; },
    'typeof':   function(l,r) { return typeof l == r; }
  }
  if (!operators[operator]) {
    throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+operator);
  }
  var result = operators[operator](lvalue,rvalue);
  if( result ) {
    return options.fn(this);
  } else {
    return options.inverse(this);
  }
});

Handlebars.registerHelper('compareAlphabetically', function(context,options){
    var output = '';
    var contextSorted = context.concat().sort( function(a,b) {
      var textA = a.alphaSortName.toUpperCase();
      var textB = b.alphaSortName.toUpperCase();
      return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;
    } );
    for(var i=0, j=contextSorted.length; i<j; i++) {
        output += options.fn(contextSorted[i]);
    }
    return output;
});

$(document).ready(() => {
  var inducteeId = getParameterByName("id");
  console.log("inductee id: ", inducteeId);
  $(".inductee-list-container").on("click", ".view-details", function(e) {
    console.log(e);
  });
  if ($("body").hasClass("page-inductee-details")) {
    const inducteeTemplate = $('#inductee-template').html();
    const compiledInducteeTemplate = Handlebars.compile(inducteeTemplate);
    $('.inductee-list-container').html(compiledInducteeTemplate(hofInductees.inductees[inducteeId]));
  } else if ($("body").hasClass("2017-ceremony")) {
    const inducteeTemplate = $('#inductee-template').html();
    const compiledInducteeTemplate = Handlebars.compile(inducteeTemplate);
    $('.inductee-list-container').html(compiledInducteeTemplate(inductees2017));
  } else if ($("body").hasClass("page-inductee-details-2017")) {
    console.log("correct page");
    const inducteeTemplate = $('#inductee-template').html();
    const compiledInducteeTemplate = Handlebars.compile(inducteeTemplate);
    $('.inductee-list-container').html(compiledInducteeTemplate(inductees2017.inductees[inducteeId]));
  } else {
    const inducteeTemplate = $('#inductee-template-by-name').html();
    const compiledInducteeTemplate = Handlebars.compile(inducteeTemplate);
    $('.inductee-list-container').html(compiledInducteeTemplate(hofInductees));
    $("#yearSort").on("click", function() {
      $("#alphaSort").removeClass("active").addClass("inactive");
      $("#yearSort").removeClass("inactive").addClass("active");
      const inducteeTemplate = $('#inductee-template-by-year').html();
      const compiledInducteeTemplate = Handlebars.compile(inducteeTemplate);
      $('.inductee-list-container').html(compiledInducteeTemplate(hofInductees));
    });
    $("#alphaSort").on("click", function() {
      $("#yearSort").removeClass("active").addClass("inactive");
      $("#alphaSort").removeClass("inactive").addClass("active");
      console.log("clicked year");
      const inducteeTemplate = $('#inductee-template-by-name').html();
      const compiledInducteeTemplate = Handlebars.compile(inducteeTemplate);
      $('.inductee-list-container').html(compiledInducteeTemplate(hofInductees));
    });
  }
});